new entry "Interrupt_SneakAttackArcane"
type "InterruptData"
using "Interrupt_SneakAttack"
data "DisplayName" "h06f6bd5bg5fdfg11c3gd59agab9a9f3cbc8a;1"
data "Description" "ha4c3dbbbgc3e9gd518g1811g093cc24b6654;2"
data "DescriptionParams" "Distance(2)"
data "ExtraDescription" "ha3a08c23g045eg455cg8365g0aab1c2fccd0;2"
data "Icon" "Action_RakishAudacity_SneakAttack_Melee"
data "Conditions" "Self(context.Source,context.Observer) and not Self() and HasDamageEffectFlag(DamageFlags.Hit) and ((WieldingFinesseWeaponInSpecificHand(context.Observer,false) and IsMainHandWeaponAttack()) or (WieldingFinesseWeaponInSpecificHand(context.Observer,true) and IsOffHandAttack()) or IsThrowAttackRoll() or (WieldingWeapon('Ammunition', false, true, context.Observer) and IsRangedWeaponAttack())) and not IsCritical() and not IsKillingBlow() and not HasDamageEffectFlag(DamageFlags.AttackDisadvantage) and ((HasAdvantage(AttackType.MeleeWeaponAttack) or HasAllyWithinRange('SG_Incapacitated',1.5)) or (not HasEnemyWithinRange('SG_Incapacitated',1.5, nil, 2,context.Source,context.Target) and not HasAllyWithinRange('SG_Incapacitated',1.5, nil,false,context.Source,context.Target))) and not AnyEntityIsItem();"
data "Properties" "IF(IsMeleeAttack()):DealDamage(LevelMapValue(SneakAttack), MainMeleeWeaponDamageType);IF(IsRangedAttack()):DealDamage(LevelMapValue(SneakAttack), MainRangedWeaponDamageType);IF(HasPassive('MAG_ForcefulSneakAttack_Passive', context.Source)):DealDamage(1d4, Force,Magical);"

new entry "Interrupt_SneakAttackArcane_Critical"
type "InterruptData"
using "Interrupt_SneakAttack_Critical"
data "DisplayName" "h2c0c17a4g0edcg8dc7g4901gda36c8130161;1"
data "Description" "h41b6ff1agbe53g8202gff3fg3e6154a25da1;2"
data "DescriptionParams" "Distance(2)"
data "ExtraDescription" "h2a70fe3fg9251g483cga71bgc5489fc03330;2"
data "Icon" "Action_RakishAudacity_SneakAttack_Melee"
data "Conditions" "Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and ((WieldingFinesseWeaponInSpecificHand(context.Observer,false) and IsMainHandWeaponAttack()) or (WieldingFinesseWeaponInSpecificHand(context.Observer,true) and IsOffHandAttack()) or IsThrowAttackRoll() or (WieldingWeapon('Ammunition', false, true, context.Observer) and IsRangedWeaponAttack())) and IsCritical() and not IsKillingBlow() and not HasDamageEffectFlag(DamageFlags.AttackDisadvantage) and ((HasAdvantage(AttackType.MeleeWeaponAttack) or HasAllyWithinRange('SG_Incapacitated',1.5)) or (not HasEnemyWithinRange('SG_Incapacitated',1.5, nil, 2,context.Source,context.Target) and not HasAllyWithinRange('SG_Incapacitated',1.5, nil,false,context.Source,context.Target))) and not AnyEntityIsItem();"

new entry "Interrupt_AttackOfOpportunity"
type "InterruptData"
data "DisplayName" "h185e568bg0bccg4f2ega9c1g69239d2aff17;1"
data "Description" "h4ec5ac65g324cg4065g86a8g7837c21272d8;1"
data "Icon" "PassiveFeature_AttackOfOpportunity"
data "InterruptContext" "OnLeaveAttackRange"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Self(context.Observer, context.Target) and Enemy() and not HasStatus('SANCTUARY',context.Source) and not WieldingWeapon('Ammunition', false, false, context.Source) and not (not Player(context.Source) and Tagged('AI_IGNORED_TARGET')  and not HasStatus('GNOLL_SUDDENRUSH')) and not HasStatus('SHOCKWAVE') and not (HasStatus('GOADING_ATTACK_PANACHE', context.Source) and not HasStatus('GOADING_ATTACK_SOURCE_PANACHE', context.Target)) and not (HasStatus('MOBILE_NO_AOO', context.Source) and HasStatus('MOBILE_NO_AOO_SOURCE', context.Target)) and not HasStatus('FLAMING_SPHERE_AURA') and not HasStatus('SNEAKING',context.Target) and not HasStatus('SG_Ignore_AOO',context.Target)  and not AnyEntityIsItem() and not HasSpellFlag(SpellFlags.IgnoreAoO, context.Target)"
data "Properties" "IF(not HasPassive('Sentinel_ZeroSpeed',context.Source)):UseAttack();IF(HasPassive('Sentinel_ZeroSpeed',context.Source)):UseSpell(Target_Sentinel_AttackOfOpportunity,true,true,true);TutorialEvent(SWAP,f658a860-7e3e-44fd-807b-88d3c0c31217)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "not HasStatus('SG_Blinded')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

