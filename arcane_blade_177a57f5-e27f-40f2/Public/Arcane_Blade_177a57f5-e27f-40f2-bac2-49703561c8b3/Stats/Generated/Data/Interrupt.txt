new entry "Interrupt_SneakAttackArcane"
type "InterruptData"
using "Interrupt_SneakAttack"
data "DisplayName" "h06f6bd5bg5fdfg11c3gd59agab9a9f3cbc8a;1"
data "ExtraDescription" "ha4c3dbbbgc3e9gd518g1811g093cc24b6654;2"
data "ExtraDescriptionParams" "Distance(1.5)"
data "Conditions" "Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and ((WieldingFinesseWeaponInSpecificHand(context.Observer,false) and IsMainHandAttack()) or (WieldingFinesseWeaponInSpecificHand(context.Observer,true) and IsOffHandAttack()) or IsThrowAttackRoll() or (WieldingWeapon('Ammunition', false, true, context.Observer) and IsRangedWeaponAttack())) and not IsCritical() and not IsKillingBlow() and (HasDamageEffectFlag(DamageFlags.AttackAdvantage) or HasAllyWithinRange('SG_Incapacitated',1.5) or not HasEnemyWithinRange('SG_Incapacitated', 1.5, nil, 2, context.Target, context.Source)) and not HasDamageEffectFlag(DamageFlags.AttackDisadvantage) and not (SpellId('Target_SneakAttackArcane') or SpellId('Projectile_SneakAttackArcane')) and not AnyEntityIsItem()"

new entry "Interrupt_SneakAttackArcane_Critical"
type "InterruptData"
using "Interrupt_SneakAttack_Critical"
data "DisplayName" "h2c0c17a4g0edcg8dc7g4901gda36c8130161;1"
data "ExtraDescription" "h41b6ff1agbe53g8202gff3fg3e6154a25da1;2"
data "ExtraDescriptionParams" "Distance(1.5)"
data "Conditions" "Self(context.Source,context.Observer) and ((WieldingFinesseWeaponInSpecificHand(context.Observer,false) and IsMainHandAttack()) or (WieldingFinesseWeaponInSpecificHand(context.Observer,true) and IsOffHandAttack()) or IsThrowAttackRoll() or (WieldingWeapon('Ammunition', false, true, context.Observer) and IsRangedWeaponAttack())) and HasDamageEffectFlag(DamageFlags.Hit) and IsCritical() and not IsKillingBlow() and (HasDamageEffectFlag(DamageFlags.AttackAdvantage) or HasAllyWithinRange('SG_Incapacitated',1.5) or not HasEnemyWithinRange('SG_Incapacitated', 1.5, nil, 2, context.Target, context.Source)) and not HasDamageEffectFlag(DamageFlags.AttackDisadvantage) and not (SpellId('Target_SneakAttackArcane') or SpellId('Projectile_SneakAttackArcane')) and not AnyEntityIsItem()"

new entry "Interrupt_AttackOfOpportunity"
type "InterruptData"
data "DisplayName" "h185e568bg0bccg4f2ega9c1g69239d2aff17;1"
data "Description" "h4ec5ac65g324cg4065g86a8g7837c21272d8;1"
data "Icon" "PassiveFeature_AttackOfOpportunity"
data "InterruptContext" "OnLeaveAttackRange"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Self(context.Observer, context.Target) and Enemy() and not HasStatus('SANCTUARY',context.Source) and not WieldingWeapon('Ammunition', false, false, context.Source) and not (not Player(context.Source) and Tagged('AI_IGNORED_TARGET')  and not HasStatus('GNOLL_SUDDENRUSH')) and not HasStatus('SHOCKWAVE') and not (HasStatus('GOADING_ATTACK_PANACHE', context.Source) and not HasStatus('GOADING_ATTACK_SOURCE_PANACHE', context.Target)) and not (HasStatus('MOBILE_NO_AOO', context.Source) and HasStatus('MOBILE_NO_AOO_SOURCE', context.Target)) and not HasStatus('FLAMING_SPHERE_AURA') and not HasStatus('SNEAKING',context.Target) and not HasStatus('SG_Ignore_AOO',context.Target)  and not AnyEntityIsItem() and not HasSpellFlag(SpellFlags.IgnoreAoO, context.Target)"
data "Properties" "IF(not HasPassive('Sentinel_ZeroSpeed',context.Source)):UseAttack();IF(HasPassive('Sentinel_ZeroSpeed',context.Source)):UseSpell(Target_Sentinel_AttackOfOpportunity,true,true,true);TutorialEvent(SWAP,f658a860-7e3e-44fd-807b-88d3c0c31217)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "not HasStatus('SG_Blinded')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_BoomingBladeMove"
type "InterruptData"
data "DisplayName" "he69a3b57gcfaeg0ca8g53e3g1230c0eb898d;1"
data "Description" "he0adff8cg2b75g78ebg953fga8048a863701;1"
data "DescriptionParams" "DealDamage(LevelMapValue(D8GreenFlameBlade),Thunder);DealDamage(LevelMapValue(D8Cantrip),Thunder);"
data "ExtraDescription" "h14bd550aga55bg0475g10d1gbbb567113dc2;2"
data "Icon" "Spell_New_BoomingBlade"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "not HasAnyExtraAttack(context.Observer) and HasAnyExtraAttackQueued(context.Observer) and not HasStatus('ATTACK_CANTRIP_ONCE', context.Observer) and not HasSpellCastBlocked(context.Observer) and IsAbleToReact(context.Observer) and not Item() and IsMeleeAttack() and Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and IsWeaponAttack() and not IsCritical() and not IsKillingBlow() and IsAttackType(AttackType.MeleeWeaponAttack) and not (SpellId('Target_BoomingBladeMove') or  SpellId('Target_GreenFlameBlade')) and not AnyEntityIsItem()"
data "Properties" "ApplyStatus(OBSERVER_OBSERVER,ATTACK_CANTRIP_ONCE,100,1);ApplyStatus(BOOMING_BLADE,100,1);IF(ConditionResult(context.Observer.Level>4)):DealDamage(LevelMapValue(D8GreenFlameBlade),Thunder,Magical);ApplyStatus(INTERRUPT_BOOMING_BLADE_VFX,100,0);"
data "Stack" "AttackCantrip"
data "EnableCondition" "(not HasStatus('SG_Polymorph')  and not HasStatus('ATTACK_CANTRIP_ONCE', context.Observer)) or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_BoomingBladeMove_Critical"
type "InterruptData"
using "Interrupt_BoomingBladeMove"
data "DisplayName" "h5803586ag6f25g4093g36d3g0dd36ebd205e;1"
data "ExtraDescription" "h65e7702fgb752g5f5cg83feg48d19bcb4b11;2"
data "Conditions" "not HasAnyExtraAttack(context.Observer) and HasAnyExtraAttackQueued(context.Observer) and not HasStatus('ATTACK_CANTRIP_ONCE', context.Observer) and not HasSpellCastBlocked(context.Observer) and IsAbleToReact(context.Observer) and not Item() and IsMeleeAttack() and Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and IsWeaponAttack() and IsCritical() and not IsKillingBlow() and not (SpellId('Target_BoomingBladeMove') or SpellId('Target_GreenFlameBlade')) and not AnyEntityIsItem()"
data "InterruptDefaultValue" "Enabled"

new entry "Interrupt_GreenFlameBlade"
type "InterruptData"
data "DisplayName" "h2dd75d1egbcd1gda95gf539gb79385087c40;2"
data "Description" "h701028begffa3g56b2g1889g95c302bf14d9;1"
data "DescriptionParams" "DealDamage(LevelMapValue(D8GreenFlameBlade),Fire);DealDamage(LevelMapValue(D8GreenFlameBlade)+SpellCastingAbilityModifier,Fire);"
data "ExtraDescription" "h814e8376g207cg51e5g67dbgceedbc3b140b;2"
data "Icon" "Spell_New_GreenFlameBlade"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "not HasAnyExtraAttack(context.Observer) and HasAnyExtraAttackQueued(context.Observer) and not HasStatus('ATTACK_CANTRIP_ONCE', context.Observer) and not HasSpellCastBlocked(context.Observer) and IsAbleToReact(context.Observer) and not Item() and IsMeleeAttack() and Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and IsWeaponAttack() and not IsCritical() and not IsKillingBlow() and IsAttackType(AttackType.MeleeWeaponAttack) and not (SpellId('Target_BoomingBladeMove') or  SpellId('Target_GreenFlameBlade')) and not AnyEntityIsItem()"
data "Properties" "ApplyStatus(OBSERVER_OBSERVER,ATTACK_CANTRIP_ONCE,100,1);ApplyStatus(OBSERVER_OBSERVER,GREEN_FLAME_BLADE_SRC,100,1);GROUND:SurfaceChange(Ignite);GROUND:SurfaceChange(Melt);ApplyStatus(OBSERVER_TARGET,GREEN_FLAME_BLADE_TARGET,100,1);IF(ConditionResult(context.Observer.Level>4)):DealDamage(LevelMapValue(D8GreenFlameBlade),Fire,Magical);ApplyStatus(INTERRUPT_GREEN_FLAME_BLADE_VFX,100,0);"
data "Stack" "AttackCantrip"
data "EnableCondition" "(not HasStatus('SG_Polymorph') and not HasStatus('ATTACK_CANTRIP_ONCE', context.Observer)) or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_GreenFlameBlade_Critical"
type "InterruptData"
using "Interrupt_GreenFlameBlade"
data "DisplayName" "ha416a789g3b5ege1c5g14cagb5b41bf75c83;2"
data "ExtraDescription" "h47765148g910dg649eg5776g467e25c1575e;2"
data "Conditions" "not HasAnyExtraAttack(context.Observer) and HasAnyExtraAttackQueued(context.Observer) and not HasStatus('ATTACK_CANTRIP_ONCE', context.Observer) and not HasSpellCastBlocked(context.Observer) and IsAbleToReact(context.Observer) and not Item() and IsMeleeAttack() and Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and IsWeaponAttack() and IsCritical() and not IsKillingBlow() and not (SpellId('Target_BoomingBladeMove') or SpellId('Target_GreenFlameBlade')) and not AnyEntityIsItem()"
data "InterruptDefaultValue" "Enabled"

